Dwarven Guidance Counselor 0.0.7

[Below is the README for 0.0.6]

I imagine this JavaScript/HTML page will be most useful assigning skills at embark, or picking a job for peasant migrants. It requires a certain level of understanding of Dwarf Fortress, but hopefully isn't confusing.

You can analyze your dwarves by hand with just Dwarf Fortress and this script. Get your dwarf's thoughts and preferences with u-v-enter, then input each phrase corresponding to attribute or trait data in the "Thoughts and Preferences" box of this script. You can find the lists of the phrases DGC understands here:

http://df.magmawiki.com/index.php/DF2010:Attribute
http://df.magmawiki.com/index.php/DF2010:Personality_trait

Or you can load from XML. It should work out of the box with Firefox 4 and Internet Explorer 9.

For Opera: opera:config#UserPrefs|AllowFileXMLHttpRequest set to "Allow"
For Chrome: load Chrome from the command line with --allow-file-access-from-files as switch

Get Runesmith 0.1.20 here:
http://dffd.wimbli.com/file.php?id=2538

Load up Runesmith 0.1.20. You can use this as early as the "Prepare for your journey carefully" menu.
Under the Tools menu, click Export All Dwarves.
Make sure Race, Name, Sex, Attributes, and Traits are clicked.
Save the file with default name and file type (Dwarves.xml, save as type XML).
Move the file to the same directory as DGC.htm, and refresh the page if it was already open.

If it reflects an actual preference (e.g. he likes cows for their haunting moos), the script won't understand it. Also not understood are mannerisms (e.g. clicks her tongue occasionally when bored).

Some attributes and traits will make big changes in evaluation, some none at all. Sometimes this is because I don't know what an attr or trait does. Sometimes this is because that attr or trait (e.g. Disease Resistance, Recuperation, Musicality) doesn't do anything, or at least nothing directly skill-related.

Or you can avoid the verbal evaluation problem entirely and hand-enter hard numbers out of an application like Runesmith (for attrs) or Dwarf Therapist (for traits). You'll also get better guidance that way, the verbal evaluation just returns the middle of the indicated range, so there's a chance your dwarf is significantly above or below that. Loading from XML gives hard numbers for attrs and approximate values for traits.

Loading from XML also allows access to the Find Best feature, which sorts your dwarves by their natural ability in a skill. This ignores already-gained experience, like every other feature of this script.

Hand-editing and loading from XML are mutually exclusive, if you try to do both it generates nonsense.

I weight all attributes attached to a skill equally, and assume that a high percentile in one cancels out an equally low percentile in another. Given the strange bedfellows produced by attribute groups, this may be misguided. (OK, hunters and surgeons need the same attrs, but in completely different proportions, yes?)

"Superb" means that dwarf's attributes make him more qualified for that job than 90% of newly-generated default dwarves, ignoring experience.
"Very good" is 76-90.
"Look of a good" means 61-75.
"Little better than most" is 50-60.
"Below average" is 40-49.
"Will make a poor" is 25-39.
"Very poor" is 10-24.
"Horrible" is 9 or lower.

I scale attributes to percentiles in the six default ranges, and let the lines of the first and last ranges run off infinitely, meaning very high and very low attrs slowly stop making sense. For instance you get default strength of 100% at 2250, but a strength of 5000 will only report 166%. Then again, if you have dwarves with those stats then you probably don't need me to tell you what they're good or bad at.

Close combat dwarf is Axeman, Fighter, Hammerman, Kicker, Knife user, Lasher, Maceman, Misc. object user, Pikeman, Shield user, Spearman, Striker, Swordsman, and Thrower.
Ranged combat dwarf is Ambusher (Hunter), Archer, Blowgunner, Bowman, and Crossbowman.
Socializer is Conversationalist, Flatterer, Negotiator, Persuader, Consoler, Leader, Pacifier, and Teacher, unless otherwise prohibited as noted.

I've tried my best to make it compatible with FF4 and IE9. The Find Best feature runs more efficiently on Firefox, and large forts (or running this on an old computer) will slow the script to a crawl on IE. IE is notoriously bad with JavaScript. If DGC is buggy on IE, please consider switching to Firefox.

Credits and thanks in the HTML.


This readme is a part of Dwarven Guidance Counselor.
(c) 2011 Eric Lewis aka knaveofstaves
Made available under the Creative Commons Attribution-ShareAlike 3.0 Unported license, available at http://creativecommons.org/licenses/by-sa/3.0/legalcode
This is a derivative work of Dwarf Fortress, http://www.bay12games.com/
